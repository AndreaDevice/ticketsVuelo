<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservar Vuelos</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="user.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="/logo2.png" type="image/x-icon">
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Bienvenido, Usuario
                <svg xmlns="http://www.w3.org/2000/svg" x-bind:width="size" x-bind:height="size" viewBox="0 0 24 24" fill="currentColor" width="36" height="36">
                    <path d="M12 2a5 5 0 1 1 -5 5l.005 -.217a5 5 0 0 1 4.995 -4.783z"></path>
                    <path d="M14 14a5 5 0 0 1 5 5v1a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-1a5 5 0 0 1 5 -5h4z"></path>
                </svg>
            </h1>
            <p>Reserva tu próximo vuelo con estilo.</p>
        </div>
        <section id="reserved-flights">
            <h2>Mis Vuelos Reservados
                <svg xmlns="http://www.w3.org/2000/svg" x-bind:width="size" x-bind:height="size" viewBox="0 0 24 24" fill="none" stroke="currentColor" x-bind:stroke-width="stroke" stroke-linecap="round" stroke-linejoin="round" width="36" height="36" stroke-width="2.25">
                    <path d="M14.5 6.5l3 -2.9a2.05 2.05 0 0 1 2.9 2.9l-2.9 3l2.5 7.5l-2.5 2.55l-3.5 -6.55l-3 3v3l-2 2l-1.5 -4.5l-4.5 -1.5l2 -2h3l3 -3l-6.5 -3.5l2.5 -2.5l7.5 2.5z"></path>
                </svg>
            </h2>
            <div id="my-flights"></div>
        </section>        
    </header>
    <main>
        <div id="search-bar">
            <input type="text" id="search-input" placeholder="Busca por aerolínea, origen o destino">
        </div>
        <section id="flight-reservation">
            <h2>Vuelos Disponibles</h2>
            <div id="available-flights"></div>
        </section>
        <section id="map-section">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" x-bind:width="size" x-bind:height="size" viewBox="0 0 24 24" fill="none" stroke="currentColor" x-bind:stroke-width="stroke" stroke-linecap="round" stroke-linejoin="round" width="36" height="36" stroke-width="2.25">
                    <path d="M12 9.5m-2.5 0a2.5 2.5 0 1 0 5 0a2.5 2.5 0 1 0 -5 0"></path>
                    <path d="M6.428 12.494l7.314 -9.252"></path>
                    <path d="M10.002 7.935l-2.937 -2.545"></path>
                    <path d="M17.693 6.593l-8.336 9.979"></path>
                    <path d="M17.591 6.376c.472 .907 .715 1.914 .709 2.935a7.263 7.263 0 0 1 -.72 3.18a19.085 19.085 0 0 1 -2.089 3c-.784 .933 -1.49 1.93 -2.11 2.98c-.314 .62 -.568 1.27 -.757 1.938c-.121 .36 -.277 .591 -.622 .591c-.315 0 -.463 -.136 -.626 -.593a10.595 10.595 0 0 0 -.779 -1.978a18.18 18.18 0 0 0 -1.423 -2.091c-.877 -1.184 -2.179 -2.535 -2.853 -4.071a7.077 7.077 0 0 1 -.621 -2.967a6.226 6.226 0 0 1 1.476 -4.055a6.25 6.25 0 0 1 4.811 -2.245a6.462 6.462 0 0 1 1.918 .284a6.255 6.255 0 0 1 3.686 3.092z"></path>
                </svg>
                Explora el mapa
                <svg xmlns="http://www.w3.org/2000/svg" x-bind:width="size" x-bind:height="size" viewBox="0 0 24 24" fill="none" width="36" height="36" stroke-width="2.25" stroke-linejoin="round" stroke-linecap="round" x-bind:stroke-width="stroke" stroke="currentColor">
                    <path d="M12 18.5l-3 -1.5l-6 3v-13l6 -3l6 3l6 -3v7.5"></path>
                    <path d="M9 4v13"></path>
                    <path d="M15 7v5.5"></path>
                    <path d="M21.121 20.121a3 3 0 1 0 -4.242 0c.418 .419 1.125 1.045 2.121 1.879c1.051 -.89 1.759 -1.516 2.121 -1.879z"></path>
                    <path d="M19 18v.01"></path>
                </svg>
            </h2>
            <div id="map"></div>
            <p id="map-error" style="display: none; color: red;">Problemas de conexión con la API de Google Maps.
                <svg xmlns="http://www.w3.org/2000/svg" x-bind:width="size" x-bind:height="size" viewBox="0 0 24 24" fill="none" stroke="currentColor" x-bind:stroke-width="stroke" stroke-linecap="round" stroke-linejoin="round" width="36" height="36" stroke-width="2.25">
                    <path d="M12 18.5l-3 -1.5l-6 3v-13l6 -3l6 3l6 -3v8"></path>
                    <path d="M9 4v13"></path>
                    <path d="M15 7v6"></path>
                    <path d="M19 19m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path>
                    <path d="M17 21l4 -4"></path>
                </svg>
            </p>
        </section>
        <div id="payment-section">
            <button id="pay-button">Procesar Pago</button>
        </div>
        
        <div id="payment-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Simulación de Pago</h2>
                <p>Total: <span id="payment-total">$0</span></p>
                <form id="payment-form">
                    <label for="card-number">Número de Tarjeta:</label>
                    <input type="text" id="card-number" placeholder="1234 5678 9101 1121" required>
                    
                    <label for="expiry-date">Fecha de Expiración:</label>
                    <input type="text" id="expiry-date" placeholder="MM/AA" required>
                    
                    <label for="cvv">CVV:</label>
                    <input type="text" id="cvv" placeholder="123" required>
                    
                    <button type="submit">Pagar</button>
                </form>
            </div>
        </div>
             
    </main>
    <section id="cancelled-flights">
        <h2>Historial de Vuelos Cancelados</h2>
        <div id="cancelled-list"></div>
    </section>    
    <footer>
        <div class="footer-content">
            <p>&copy; 2024 Aero-Back. Todos los derechos reservados.</p>
        </div>
        <div id="feedback-section">
            <button id="feedback-button">Enviar Quejas o Sugerencias</button>
        </div>
        <div id="feedback-modal" class="modal">
            <div class="modal-content">
                <span class="close-feedback">&times;</span>
                <h2>Quejas o Sugerencias</h2>
                <form id="feedback-form">
                    <label for="feedback-text">Tu mensaje:</label>
                    <textarea id="feedback-text" rows="5" placeholder="Escribe aquí tu queja o sugerencia" required></textarea>
                    <button type="submit">Enviar</button>
                </form>
            </div>
        </div>        
    </footer>
    <script src="user.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=TU_API_KEY&callback=initMap" onerror="handleMapError()"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script>
        function handleMapError() {
            document.getElementById('map-error').style.display = 'block';
            console.error('No se pudo cargar el mapa. Verifica tu clave de API.');
        }
    </script>    
</body>
</html>
